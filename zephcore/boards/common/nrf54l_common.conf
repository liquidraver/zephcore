# nRF54L Platform Configuration
# Included by all nRF54L-based boards (XIAO nRF54L15, etc.)
# Only contains nRF54L-specific settings — common BLE/Storage/Input is in zephcore_common.conf
#
# Include order: prj.conf → zephcore_common.conf → nrf54l_common.conf → <board>/board.conf
#
# NOTE: nRF54L15 has NO native USB.
# XIAO nRF54L15 has a SAMD11 bridge chip (CMSIS-DAP) that converts UART20 → USB CDC
# on the host side. Flashing is via SWD through CMSIS-DAP (west flash / openocd).

# ========== CPU Clock: DVFS low (64 MHz) for power saving ==========
# nRF54L15 supports 64/128/320 MHz via HSFLL DVFS.
# 64 MHz is plenty for event-driven companion firmware.
CONFIG_CLOCK_CONTROL_NRF_HSFLL_LOCAL_REQ_LOW_FREQ=y

# ========== BLE: nRF54L-specific controller settings ==========
# TX power: +4 dBm (same open-source BLE controller as nRF52)
CONFIG_BT_CTLR_TX_PWR_PLUS_4=y

# Data Length Extension — controller-side max
CONFIG_BT_CTLR_DATA_LENGTH_MAX=251

# Coded PHY — enable in nRF LL controller (host auto-request in zephcore_common.conf)
CONFIG_BT_CTLR_PHY_CODED=y

# ========== SEGGER RTT (J-Link / CMSIS-DAP debug) ==========
CONFIG_LOG_BACKEND_RTT=y
CONFIG_USE_SEGGER_RTT=y
CONFIG_SEGGER_RTT_BUFFER_SIZE_UP=4096

# ========== Debug ==========
CONFIG_ASSERT=y
CONFIG_BT_CTLR_ASSERT_HANDLER=y
