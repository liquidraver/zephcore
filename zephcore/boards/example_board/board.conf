# ============================================================================
#  ZephCore — Universal board.conf Template
# ============================================================================
#
#  This file is ONLY for board-specific features. All common config (BLE stack,
#  storage, input, LoRa, sensors, crypto) is in zephcore_common.conf.
#  Platform-specific overrides are in <platform>_common.conf.
#
#  Config chain (later files override earlier):
#    prj.conf → zephcore_common.conf → <platform>_common.conf → THIS FILE
#
#  Platform configs are auto-selected in CMakeLists.txt based on BOARD name:
#    nrf52  → nrf52_common.conf     (UF2, USB CDC, DLE, GNSS, RTT)
#    nrf54l → nrf54l_common.conf    (DLE, RTT)
#    mg24   → mg24_common.conf      (SiLabs blob stacks, larger heap)
#    esp32  → esp32_common.conf     (Espressif blob stacks, larger heap)
#
#  DO NOT duplicate settings from the common configs!
#
#  IMPORTANT: Register your board in CMakeLists.txt!
#  Add "OR BOARD MATCHES \"your_board\"" to the correct platform detection
#  line (~line 60-75) so the right <platform>_common.conf is auto-included.
#
# ============================================================================

# ========== REQUIRED: Board Identity ==========
# Name shown on phone app and OLED top bar
CONFIG_ZEPHCORE_BOARD_NAME="My Board"

# BLE Device Information Service model name (shown in phone settings)
CONFIG_BT_DIS_MODEL_NUMBER_STR="My Board v1"

# ========== REQUIRED: Radio Type ==========
# Pick ONE based on your LoRa chip.
CONFIG_ZEPHCORE_RADIO_NATIVE=y       # Zephyr native LoRa driver (SX126x, SX127x, LLCC68, STM32WL)
# CONFIG_ZEPHCORE_RADIO_LR1110=y     # Semtech LR11xx custom driver (LR1110, LR1120, LR1121)

# ========== OPTIONAL: SPI for LoRa ==========
# Only needed if LoRa chip is NOT on the Zephyr lora driver (i.e. LR11xx).
# Native driver radios use Zephyr's built-in lora driver and do NOT need this.
# CONFIG_SPI=y

# ========== OPTIONAL: QSPI External Flash (nRF52840 only) ==========
# Uncomment if your board has QSPI flash for expanded storage.
# This gives 100 advert blob slots instead of 20.
# Only available on nRF52840 — other MCUs don't have QSPI peripheral.
#
# WARNING: If your board does NOT have a QSPI flash chip, you MUST leave
# this disabled (=n) AND disable &qspi in your overlay. The Nordic QSPI
# driver hangs forever at boot (k_sem_take K_FOREVER) if no chip responds,
# bricking the device with no USB/BLE/logs. The DataStore code handles
# missing QSPI gracefully — the driver does not.
#
# Also add &qspi { status = "disabled"; }; in your overlay and do NOT
# include qspi-ext.dtsi. See boards/nrf52840/rak4631/ for an example.
CONFIG_NORDIC_QSPI_NOR=n

# ========== OPTIONAL: Display ==========
# Display subsystem is enabled universally in zephcore_common.conf.
# Display DRIVERS auto-select from the DT "compatible" string.
# No board.conf changes needed — just add the display node to your overlay.
#
# To add a display:
#   1. Add the display node to your board.overlay (see examples there)
#   2. Set  zephyr,display = &your_display;  in the "chosen" block
#   3. That's it — driver, CFB, and UI all auto-enable

# ========== OPTIONAL: Buzzer ==========
# Uncomment if your board has a piezo buzzer on a PWM pin.
# CONFIG_PWM=y

# ========== OPTIONAL: Platform-Specific Overrides ==========
#
# --- nRF52840 ---
# CRITICAL: SoftDevice version determines the app start address!
# Check your board's Arduino platformio.ini for which linker script it uses:
#   nrf52840_s140_v6*.ld → s140 v6.1.1, app@0x26000, FWID=0x00B6
#   nrf52840_s140_v7*.ld → s140 v7.3.0, app@0x27000, FWID=0x0100
# Your board.overlay partition table MUST match (see Section 4 in board.overlay).
# Wrong address = bootloop / bricked device with no USB/BLE/logs.
# CONFIG_ZEPHCORE_SD_FWID=0x00B6     # SoftDevice firmware ID (s140 v6.1.1)
# CONFIG_ZEPHCORE_SD_FWID=0x0100     # SoftDevice firmware ID (s140 v7.3.0)
#
# --- MG24 (Silicon Labs) ---
# Requires: west blobs fetch hal_silabs (before first build)
# No additional board.conf options typically needed.
#
# --- nRF54L15 ---
# No additional board.conf options typically needed.
# Build with: west build -b <board>/nrf54l15/cpuapp zephcore --no-sysbuild
#
# --- ESP32 ---
# CONFIG_ESPTOOLPY_FLASHSIZE_4MB=y   # If your board has 4MB flash (default 2MB)

# ========== OPTIONAL: Disable RX Duty Cycle ==========
# Inherited from platform common config as enabled (power savings).
# Override here if your board is wall-powered.
# CONFIG_ZEPHCORE_LORA_RX_DUTY_CYCLE=n
