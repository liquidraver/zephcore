/*
 * RAK4631 formatter overlay — flash partitions + USB console only.
 * Strips all sensor/GPS/radio nodes from the main board overlay
 * to avoid driver init hangs in the minimal formatter environment.
 */

/delete-node/ &boot_partition;
/delete-node/ &slot0_partition;
/delete-node/ &slot1_partition;
/delete-node/ &storage_partition;

/ {
	chosen {
		zephyr,code-partition = &code_partition;
		zephyr,console = &cdc_acm_uart;
		zephyr,shell-uart = &cdc_acm_uart;
		/* No zephyr,settings-partition — nRF52 uses file-based settings */
	};
};

&zephyr_udc0 {
	cdc_acm_uart: cdc_acm_uart {
		compatible = "zephyr,cdc-acm-uart";
	};
};

/* Disable QSPI — RAK19003 Mini Base has no QSPI flash */
&qspi {
	status = "disabled";
};

/* Arduino MeshCore compatible partition layout (SoftDevice v6) */
#include "../../../../boards/common/nrf52_partitions_sdv6.dtsi"
