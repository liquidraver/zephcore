# ZephCore Flash Formatter — minimal config
# Board-specific QSPI enablement comes from board.conf

# Flash access
CONFIG_FLASH=y
CONFIG_FLASH_MAP=y

# Use DTS code_partition for linker origin (required for bootloader boards)
CONFIG_USE_DT_CODE_PARTITION=y

# UF2 output
CONFIG_BUILD_OUTPUT_UF2=y

# USB CDC console (new stack — must match main app)
CONFIG_USB_DEVICE_STACK_NEXT=y
CONFIG_SERIAL=y
CONFIG_CONSOLE=y
CONFIG_UART_CONSOLE=y
CONFIG_UART_LINE_CTRL=y
CONFIG_CDC_ACM_SERIAL_INITIALIZE_AT_BOOT=y
CONFIG_CDC_ACM_SERIAL_ENABLE_AT_BOOT=y

# No logging, no BLE, no LoRa — just erase and reboot
CONFIG_LOG=n
CONFIG_ASSERT=n

# GPIO for LED feedback
CONFIG_GPIO=y

# Reboot API
CONFIG_REBOOT=y

# Don't mount filesystems — we're erasing them
CONFIG_FILE_SYSTEM=n

# Disable peripherals auto-enabled by board overlay DTS nodes.
# Without this, GNSS/I2C/sensor drivers init and hang on boards
# where GPS or sensors aren't physically connected.
CONFIG_GNSS=n
CONFIG_I2C=n
CONFIG_SENSOR=n
CONFIG_SPI=n
